<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>DTNetwork</title>
    <link rel="icon" type="image/ico" href="../static/images/icoTitl.PNG" th:href="@{/images/icoTitl.PNG}" >
    <link rel="stylesheet" media="screen" th:href="@{/css/background.css}" href="../../static/css/background.css">
    <link rel="stylesheet" href="../../static/css/form.css" th:href="@{/css/form.css}">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/tooltips.css}">
    <link rel="stylesheet" th:href="@{/css/simpleTable.css}">
    <link rel="stylesheet" href="../static/css/overlay.css">
    <link rel="stylesheet" href="" th:href="@{/css/header.css}">
    <link rel="stylesheet" href="" th:href="@{/css/footer.css}">
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" href="../../static/css/modal.css" th:href="@{/css/modal.css}">
    <style>

    </style>
    <link rel="stylesheet" href="../../../../../../strona1/style.css">
</head>
<body>
    <script>
        window.location.refresh();
    </script>
    <div th:replace="~{fragments/header.html::header}"></div>
    <div th:replace="~{fragments/navbar.html::navbar(${@listOfEnumValues.rooms})}"></div>

    <div class="container" style="min-height: 100vh; padding-top: 100px; ">
    <div class="col-25" style="margin-left: 50px; ">
        <h1 style="text-align: center;  background-color: lightgray" th:text="${dto.getDeviceDescription()}+ '&roarr;'+${dto.getRoom()}"></h1>
        <div style="text-align: center;"><img  src="" th:src="${dto.deviceType.getIMAGE()}" alt=""></div>
    </div>

    <div class="col-75" style="margin-left: 300px">

        <table>

            <tr id="topBar">
                <th>Atrybut</th>
                <th>Wartość</th>
                <th>Akcja</th>
            </tr>
            <tr>
                <td>Numer inw.</td>
                <td th:text="${dto.getInventNumber()}">Test</td>
                <td th:text="'---'"></td>

            </tr>
            <tr>
                <td>Data początku ekspl.</td>
                <td th:if="${dao.getDeviceCard()== null}" th:text="'Nieznana'"> </td>
                <td th:if="${dao.getDeviceCard()!= null}" th:text="${CalUtil.cal2string(dao.getDeviceCard().getStartDate())}"> </td>

                <td th:if="${dao.getDeviceCard()== null}"><a href="" th:text="'---'"></a> </td>
                <td th:if="${dao.getDeviceCard()!= null}"><a href="" th:text="'---'"></a> </td>
            </tr>
            <tr>
                <td>Ilość usterek</td>
                <td th:text="${dao.getDamageList().size()}"></td>
                <td th:if="${dao.getDamageList().size()==0}" th:text="'---'" ></td>
                <td th:if="${dao.getDamageList().size()!=0}" ><a th:href="@{'/damages/devices/'+${dto.getInventNumber()}+'/1'}" th:text="' &#8981;'+' Pokaż usterki'" > </a></td>

            </tr>
            <tr>
                <td>Ilość postów</td>
                <td th:text="${posts}"></td>
                <td th:if="${posts==0}" th:text="'---'" ></td>
                <td th:if="${posts!=0}" ><a th:href="@{'/posts/devices/'+${dto.getInventNumber()}+'/1'}" th:text="' &#8981;'+'Pokaż posty'" ></a></td>

            </tr>
            <tr>
                <td>Ilość zamówień</td>
                <td th:text="${issueDAO.findByInventNumber(dto.getInventNumber()).size()}"></td>
                <td th:if="${issueDAO.findByInventNumber(dto.getInventNumber()).size()==0}" th:text="'---'" ></td>
                <td th:if="${issueDAO.findByInventNumber(dto.getInventNumber()).size()!=0}" ><a href="" th:href="@{'/issueDocs/devices/'+${dto.getInventNumber()}+'/1'}" th:text="' &#8981;'+'Pokaż zamówienia'" ></a></td>
            </tr>

            <tr th:if="${dto.getDeviceType().name().equals('GENERATOR')}">
                <td>Data ostatniego </br> uruchomienia</td>
                <td th:utext="${lastTest}+' </br> '+${activityType}"></td>
                <td th:if="${dao.getTests().isEmpty()}" th:text="'---'"></td>
                <td th:if="${!dao.getTests().isEmpty()}" ><a href="" th:href="@{'/generators/' + ${dto.getInventNumber()} + '/1'}"  th:utext="' &#8981;'+'Pokaż </br> uruchomienia'"></a></td>

            </tr>

        </table>
        <div style="width:65%; display: flex;  justify-content: center; ">
            <div class="tooltip">
                <a th:href="@{/posts/addForm/}+${dto.getInventNumber()}"><i class="fas fa-clipboard-list" style=" color: #051f64;"></i></a>
                <span class="tooltiptext">Dodaj nowy post</span>
            </div>
            <div class="tooltip">
                <a href="" th:href="@{/damages/addForm/}+${dto.getInventNumber()}"> <i class="fas fa-exclamation-circle" style=" color: #640108;"></i></a>
                <span class="tooltiptext">Dodaj nową usterkę</span>
            </div>
            <div class="tooltip">
                <a th:href="@{/issueDocs/addForm/}+${dto.getInventNumber()}"><i class="fas fa-file-invoice-dollar" style=" color: darkgreen;"></i></a>
                <span class="tooltiptext">Dodaj nowe zamówienie</span>
            </div>
            <div class="tooltip"  >
                <!--<a th:href="@{/cards/addForm/}+${dto.getInventNumber()}"><i class="far fa-id-card" style=" color: #55003b;"></i></a>-->
                <a th:href="@{/download1/} + ${dto.getInventNumber()} "><i class="fas fa-download" style=" color: #55003b;"></i></a>
                <span class="tooltiptext">Pobierz kartę maszyny</span>
            </div>
            <div class="tooltip"  th:if="${dao.getDeviceCard()!= null}" >
                <a href="" th:href="@{/download1}" ><i class="fas fa-download" style=" color: #55003b;"></i></a>
                <span class="tooltiptext">Pobierz kartę maszyny</span>
            </div>
            <div class="tooltip" th:if="${dto.getDeviceType().name().equals('GENERATOR')}" >
                <a href="" th:href="@{/devices/activityForm/} + ${dto.getInventNumber()}"  ><i class="fas fa-charging-station" style="color: orangered"></i></a>
                <span class="tooltiptext">Dodaj uruchomienie generatora</span>
            </div>
        </div>
    </div>

    </div>
    <script  th:src="@{/js/mymodal.js}"></script>
    <div th:insert="~{fragments/footer.html::footer}"></div>
</body>
</html>