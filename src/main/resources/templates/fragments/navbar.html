<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Navbar</title>
    
    <link rel="stylesheet" href="../../static/css/navbar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet"  th:href="@{/css/navbar.css}">
   
   
   

</head>
<body>

    <div th:fragment="navbar(rooms)">
        <script>
            window.location.refresh;
        </script>
        <div id="bar">
        <div id="nav">
            <ul>
                <li><a class="home mainBar" href="#" th:href="@{/dtnetwork}">Home</a></li>
                <li><a class="mainBar" >Devices &raquo;</a>
                    <ul>
                        <li  th:each="room:${rooms}"><a href="#" th:text="${room}+' '+'&raquo;'"></a>
                            <ul>
                                <li th:if="${device.getInventNumber()}!='NOT SPECIFIED'" th:each="device:${@deviceServiceImpl.findByRoom(room)}"><a th:href="@{/devices/}+ ${device.inventNumber}" th:text="${device.deviceDescription}"></a></li>
                                <li><a href="#" th:text="'+' + ' Add new'" th:href="@{/devices/addForm/}+${room}" >+ add new</a></li>
                            </ul>
                        
                        </li>

                    </ul>
                </li>

                <li><a class="mainBar" href="#">Documents &raquo;</a>
                    <ul>
                        <li th:if="${@issueDocServiceImpl.setOfYears().size()<=5}" th:each="year:${@issueDocServiceImpl.setOfYears()}" ><a href="#" th:href="@{'/issueDocs/'+${year}+'/1'}" th:text="${year}"></a></li>
                        <li th:if="${@issueDocServiceImpl.setOfYears().size()>5}" th:each="year:${@issueDocServiceImpl.subSet()}" ><a href="#" th:href="@{'/issueDocs/'+${year}+'/1'}" th:text="${year}"></a></li>

                        <li th:if="${@issueDocServiceImpl.setOfYears().size()>5}"  ><a href="#" th:href="@{/inBuild}" th:text="'See older...'"></a></li>

                        

                    </ul>
                </li>

                <li><a class="mainBar" href="#">Posts &raquo;</a>
                    <ul>
                        <li th:if="${!@shortPostServiceImpl.areAllForDamage(year) and @shortPostServiceImpl.setOfYears().size()<=5 }" th:each="year:${@shortPostServiceImpl.setOfYears()}" ><a href="#" th:href="@{'/posts/all/'+${year}+'/1' }" th:text= "${year}" >Test</a></li>
                        <li th:if="${!@shortPostServiceImpl.areAllForDamage(year) and @shortPostServiceImpl.setOfYears().size()>5 }" th:each="year:${@shortPostServiceImpl.subSet()}" ><a href="#" th:href="@{'/posts/all/'+${year}+'/1' }" th:text= "${year}" >Test</a></li>

                        <li th:if="${@shortPostServiceImpl.setOfYears().size()>5 }" ><a href="#" th:href="@{/inBuild}" th:text= "'See older...'" >Test</a></li>
                    </ul>
                </li>

                <li><a class="mainBar"  >Invoices &raquo;</a>
                    <ul>
                        <li th:each="building:${@listOfEnumValues.buildings}" ><a href="" th:text="${building.name()+' '+'&raquo;'}"></a>
                            <ul>
                                <li><a href="" th:href="@{/invoices/addForm/}+${building.name()}"  th:text="'+ Add new'"></a></li>
                                <li ><a href="" th:text="'Show all'" th:href="@{'/invoices/'+${building.name()}+'/1'}" ></a></li>
                            </ul>
                        </li>
                    </ul>

                </li>

                <li><a style="padding-bottom: 7px; border-right: none" class="logout mainBar" href="#"   th:text=" '&#9673; '+ ${@mainController.getUser()} " >Logout</a>
                    <ul>
                        <li><a class="logout" href="" th:href="@{/logout}" th:text="Logout"></a></li>
                        <li><a class="logout" href="" th:href="@{'/users/' + ${@mainController.getUser()}}" th:text="'Change password'" ></a></li>
                        <li th:if="${@mainController.getUser()}=='admin'" ><a class="logout" href="#" th:href="@{/dev}" >Dev panel</a></li>
                        <li th:if="${@mainController.getUser()}=='admin'" ><a class="logout" href="#" th:href="@{/users}" >Users</a></li>
                        <li th:if="${@mainController.getUser()}=='admin'" ><a class="logout" href="#" th:href="@{/dev/users/setPass}" >Set pass</a></li>
                    </ul>
                </li>
            </ul>
        </div>
        </div>
    </div>

</body>
</html>
